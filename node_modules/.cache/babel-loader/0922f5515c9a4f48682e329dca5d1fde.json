{"ast":null,"code":"var _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\digital-form-oms-tccm\\\\react\\\\src\\\\pages\\\\EditProntuario\\\\index.js\";\nimport React, { useState } from 'react';\nimport './styles.css';\nimport { useHistory } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport { TextField, Button } from '@material-ui/core';\nimport api from '../../services/api';\nimport { connect } from 'react-redux';\nconst styles = {\n  Button: {\n    margin: 24,\n    marginBottom: 0\n  }\n};\n\nfunction EditProntuario({\n  user\n}) {\n  const history = useHistory();\n  const location = useLocation();\n  const [prontuario, setProntuario] = useState();\n  const [error, setError] = useState('');\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const response = await api.post('/editMedicalRecord', {\n      userid: user[location.state.hospitalIndex].userid,\n      groupRoleid: user[location.state.hospitalIndex].grouproleid,\n      hospitalUnitid: user[location.state.hospitalIndex].hospitalunitid,\n      participantId: location.state.participantId,\n      medicalRecordNew: prontuario\n    }).catch(function (error) {\n      console.log(error);\n\n      if (error.response.data.Message) {\n        setError(error.response.data.Message);\n      } else {\n        setError(error.response.data.msgRetorno);\n      }\n    });\n    if (response) if (response.data.msgRetorno === \"Alteração realizada com sucesso.\") history.goBack();\n    console.log(response); //history.push('/formulario', { modulo: 1 })\n  }\n\n  function handleChange(e) {\n    console.log(user);\n    console.log(location.state);\n    setProntuario(e.target.value);\n  }\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    className: \"container add-prontuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"index\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, user[location.state.hospitalIndex].hospitalName)), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, \"Editar prontu\\xE1rio \", location.state.prontuario)), /*#__PURE__*/React.createElement(\"form\", {\n    noValidate: true,\n    autoComplete: \"off\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"prontuario\",\n    label: \"N\\xFAmero do prontu\\xE1rio\",\n    type: \"number\",\n    defaultValue: location.state.prontuario,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"submit-prontuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, error), /*#__PURE__*/React.createElement(Button, {\n    style: styles.Button,\n    variant: \"contained\",\n    type: \"submit\",\n    color: \"primary\",\n    disabled: !prontuario,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, \"Atualizar\"))));\n}\n\nexport default connect(state => ({\n  user: state.user\n}))(EditProntuario);","map":{"version":3,"sources":["D:/xampp/htdocs/digital-form-oms-tccm/react/src/pages/EditProntuario/index.js"],"names":["React","useState","useHistory","useLocation","TextField","Button","api","connect","styles","margin","marginBottom","EditProntuario","user","history","location","prontuario","setProntuario","error","setError","handleSubmit","e","preventDefault","response","post","userid","state","hospitalIndex","groupRoleid","grouproleid","hospitalUnitid","hospitalunitid","participantId","medicalRecordNew","catch","console","log","data","Message","msgRetorno","goBack","handleChange","target","value","hospitalName"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport './styles.css';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { TextField, Button } from '@material-ui/core';\r\n\r\nimport api from '../../services/api';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nconst styles = {\r\n    Button: {\r\n      margin: 24,\r\n      marginBottom: 0\r\n    }\r\n};\r\n\r\nfunction EditProntuario({user}) {\r\n\r\n    const history = useHistory();\r\n\r\n    const location = useLocation();\r\n\r\n    const [prontuario, setProntuario] = useState();\r\n\r\n    const [error, setError] = useState('');\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault()\r\n         \r\n        const response = await api.post('/editMedicalRecord', {\r\n            userid: user[location.state.hospitalIndex].userid,\r\n            groupRoleid: user[location.state.hospitalIndex].grouproleid,\r\n            hospitalUnitid: user[location.state.hospitalIndex].hospitalunitid,\r\n            participantId: location.state.participantId,\r\n            medicalRecordNew: prontuario\r\n        }).catch( function (error) {\r\n            console.log(error)\r\n            if(error.response.data.Message) {\r\n                setError(error.response.data.Message);\r\n            } else {\r\n                setError(error.response.data.msgRetorno);\r\n            }\r\n        });\r\n\r\n        if(response)\r\n            if(response.data.msgRetorno === \"Alteração realizada com sucesso.\")\r\n                history.goBack()\r\n        console.log(response);\r\n\r\n        //history.push('/formulario', { modulo: 1 })\r\n    }\r\n\r\n    function handleChange(e) {\r\n        console.log(user)\r\n        console.log(location.state)\r\n        setProntuario(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <main className=\"container add-prontuario\">\r\n            <div>\r\n                <header className=\"index\">\r\n                    <b>{user[location.state.hospitalIndex].hospitalName}</b>\r\n                </header>\r\n                <h2>Editar prontuário {location.state.prontuario}</h2>\r\n            </div>\r\n            <form noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\r\n                <TextField name=\"prontuario\" label=\"Número do prontuário\" type=\"number\" defaultValue={location.state.prontuario} onChange={handleChange} />\r\n                <div className=\"submit-prontuario\">\r\n                    <span className=\"error\">{ error }</span>\r\n                    <Button style={styles.Button} variant=\"contained\" type=\"submit\" color=\"primary\" disabled={!prontuario}>Atualizar</Button>\r\n                </div>\r\n            </form>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default connect(state => ({ user: state.user }))(EditProntuario);"]},"metadata":{},"sourceType":"module"}