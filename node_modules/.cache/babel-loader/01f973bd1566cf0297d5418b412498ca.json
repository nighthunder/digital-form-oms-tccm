{"ast":null,"code":"var _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\digital-form-oms-tccm\\\\react\\\\src\\\\pages\\\\AddSurvey\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport api from '../../services/api';\nimport ReactDOM from 'react-dom';\nimport { TextField, Button, InputLabel, FormLabel, Select } from '@material-ui/core';\nimport { Add, Edit } from '@material-ui/icons';\nimport './styles.css';\nimport { connect } from 'react-redux';\n\nfunction AddSurvey({\n  user\n}) {\n  const history = useHistory();\n  console.log(\"history addsurvey\", history);\n  const location = useLocation();\n  console.log(\"history addsurvey\", location);\n  const [formError, setFormError] = useState('');\n  const [pesquisa, setPesquisa] = useState();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setLoading(true);\n    const response = await api.post('/insertMedicalRecord', {\n      userid: user[location.state.hospitalIndex].userid,\n      groupRoleid: user[location.state.hospitalIndex].grouproleid,\n      hospitalUnitid: user[location.state.hospitalIndex].hospitalunitid,\n      medicalRecord: prontuario\n    }).catch(function (error) {\n      setLoading(false);\n      console.log(error);\n\n      if (error.response.data.Message) {\n        setError(error.response.data.Message);\n      } else {\n        setError(error.response.data.msgRetorno);\n      }\n    });\n\n    if (response) {\n      setLoading(false);\n      setSuccess(response.data.msgRetorno);\n    }\n  }\n\n  function handleChange(e) {\n    setError('');\n    console.log(user);\n    console.log(location.state);\n    setProntuario(e.target.value);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"main\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, \"Adicione nova pesquisa\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 52\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"module\",\n    onSubmit: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"module\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, \"Nome do seu question\\xE1rio: Vers\\xE3o 0.0\"), /*#__PURE__*/React.createElement(TextField, {\n    name: \"surveydescription\",\n    label: \"Descri\\xE7\\xE3o\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, \" \", formError, \" \"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    type: \"submit\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, \"Enviar\"))))));\n}\n\nexport default connect(state => ({\n  user: state.user\n}))(AddSurvey);","map":{"version":3,"sources":["D:/xampp/htdocs/digital-form-oms-tccm/react/src/pages/AddSurvey/index.js"],"names":["React","useState","useEffect","useHistory","useLocation","api","ReactDOM","TextField","Button","InputLabel","FormLabel","Select","Add","Edit","connect","AddSurvey","user","history","console","log","location","formError","setFormError","pesquisa","setPesquisa","loading","setLoading","error","setError","success","setSuccess","handleSubmit","e","preventDefault","response","post","userid","state","hospitalIndex","groupRoleid","grouproleid","hospitalUnitid","hospitalunitid","medicalRecord","prontuario","catch","data","Message","msgRetorno","handleChange","setProntuario","target","value","submit"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport api from '../../services/api';\r\nimport ReactDOM from 'react-dom';\r\nimport { TextField, Button, InputLabel, FormLabel, Select } from '@material-ui/core';\r\nimport { Add, Edit } from '@material-ui/icons';\r\nimport './styles.css';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nfunction AddSurvey({user}) {\r\n\r\n    const history = useHistory();\r\n\r\n    console.log(\"history addsurvey\", history);\r\n\r\n    const location = useLocation();\r\n\r\n    console.log(\"history addsurvey\", location);\r\n\r\n    const [formError, setFormError] = useState('')\r\n\r\n    const [pesquisa, setPesquisa] = useState();\r\n\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState('');\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        const response = await api.post('/insertMedicalRecord', {\r\n            userid: user[location.state.hospitalIndex].userid,\r\n            groupRoleid: user[location.state.hospitalIndex].grouproleid,\r\n            hospitalUnitid: user[location.state.hospitalIndex].hospitalunitid,\r\n            medicalRecord: prontuario\r\n        }).catch( function (error) {\r\n            setLoading(false);\r\n            console.log(error)\r\n            if(error.response.data.Message) {\r\n                setError(error.response.data.Message);\r\n            } else {\r\n                setError(error.response.data.msgRetorno);\r\n            }\r\n        });\r\n\r\n        if(response) {\r\n            setLoading(false);\r\n            setSuccess(response.data.msgRetorno);\r\n        }\r\n    }\r\n\r\n    function handleChange(e) {\r\n        setError('');\r\n        console.log(user)\r\n        console.log(location.state)\r\n        setProntuario(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <main className=\"container\">\r\n                <div>\r\n                    <h2>Adicione nova pesquisa</h2><br/>\r\n                </div>\r\n                <div>\r\n                 <form className=\"module\" onSubmit={submit}>\r\n                    <div className=\"module\">\r\n                        <InputLabel>Nome do seu questionário: Versão 0.0</InputLabel>\r\n                        <TextField name=\"surveydescription\" label=\"Descrição\"/>\r\n                    </div>\r\n                    <div className=\"form-submit\">\r\n                        <p className=\"error\"> { formError } </p>\r\n                        <Button variant=\"contained\" type=\"submit\" color=\"primary\">Enviar</Button>\r\n                    </div>\r\n                 </form>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default connect(state => ({ user: state.user }))(AddSurvey);"]},"metadata":{},"sourceType":"module"}